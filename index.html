<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>酒好きによるおすすめリンク</title>
    <link rel="stylesheet" href="a.css" />
  </head>
  <body>
    <div class="wrap">
      <main class="container">
        <header>
          <div class="profile">🍶</div>
          <h1>酒好きによるおすすめリンク</h1>
          <p class="lead">
            楽天アフィリエイト（仮）のリンク集 — カテゴリをタップして詳細を表示
          </p>
        </header>

        <section class="card" aria-label="おすすめリンク">
          <!-- Accordion Start -->
          <div class="accordion">
            <div class="accordion-item">
              <button
                class="accordion-header"
                aria-expanded="false"
                aria-controls="panel-beer"
                id="header-beer"
              >
                <div class="acc-title">
                  <span class="emoji">🍺</span> ビール
                </div>
                <div class="acc-indicator">∨</div>
              </button>
              <div
                id="panel-beer"
                class="accordion-panel"
                role="region"
                aria-labelledby="header-beer"
              >
                <div class="panel-inner">
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=beer1"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >人気定番ビール</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=beer2"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >飲みやすいライト</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=beer3"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >限定パックセット</a
                  >
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <button
                class="accordion-header"
                aria-expanded="false"
                aria-controls="panel-happoshu"
                id="header-happoshu"
              >
                <div class="acc-title">
                  <span class="emoji">🥂</span> 発泡酒
                </div>
                <div class="acc-indicator">∨</div>
              </button>
              <div
                id="panel-happoshu"
                class="accordion-panel"
                role="region"
                aria-labelledby="header-happoshu"
              >
                <div class="panel-inner">
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=happoshu1"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >コスパ重視の発泡酒</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=happoshu2"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >ロングセラー商品</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=happoshu3"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >軽めの味わい</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=happoshu4"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >お得なケース買い</a
                  >
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <button
                class="accordion-header"
                aria-expanded="false"
                aria-controls="panel-craft"
                id="header-craft"
              >
                <div class="acc-title">
                  <span class="emoji">🍻</span> クラフトビール
                </div>
                <div class="acc-indicator">∨</div>
              </button>
              <div
                id="panel-craft"
                class="accordion-panel"
                role="region"
                aria-labelledby="header-craft"
              >
                <div class="panel-inner">
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=craft1"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >地ビールセット</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=craft2"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >個性派IPA</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=craft3"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >季節限定フレーバー</a
                  >
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <button
                class="accordion-header"
                aria-expanded="false"
                aria-controls="panel-nonalc"
                id="header-nonalc"
              >
                <div class="acc-title">
                  <span class="emoji">🚫🍺</span> ノンアルコール
                </div>
                <div class="acc-indicator">∨</div>
              </button>
              <div
                id="panel-nonalc"
                class="accordion-panel"
                role="region"
                aria-labelledby="header-nonalc"
              >
                <div class="panel-inner">
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=nonalc1"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >こだわりのノンアルコール</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=nonalc2"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >ビアテイスト飲料</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=nonalc3"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >カロリー控えめ</a
                  >
                  <a
                    class="link-btn"
                    href="https://r.example.com/affiliate?item=nonalc4"
                    target="_blank"
                    rel="noopener noreferrer nofollow"
                    >ギフト用セット</a
                  >
                </div>
              </div>
            </div>
          </div>
          <!-- Accordion End -->
        </section>

        <footer>
          ※各リンクはデモ用のダミーURLです。実際のアフィリエイトURLに差し替えてご利用ください。
        </footer>
      </main>
    </div>

    <script>
      (function () {
        const headers = document.querySelectorAll(".accordion-header");
        headers.forEach((header) => {
          header.addEventListener("click", () => {
            const expanded = header.getAttribute("aria-expanded") === "true";
            header.setAttribute("aria-expanded", String(!expanded));
            const panel = document.getElementById(
              header.getAttribute("aria-controls")
            );
            if (!panel) return;
            if (!expanded) {
              // open
              const inner = panel.querySelector(".panel-inner");
              panel.style.height =
                (inner ? inner.scrollHeight : panel.scrollHeight) + "px";
            } else {
              // close
              panel.style.height = "0px";
            }
          });

          // Allow opening/closing via Enter/Space for accessibility
          header.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              header.click();
            }
          });
        });

        // On page load, ensure panels whose headers are expanded have proper height
        window.addEventListener("load", () => {
          headers.forEach((header) => {
            const panel = document.getElementById(
              header.getAttribute("aria-controls")
            );
            if (header.getAttribute("aria-expanded") === "true" && panel) {
              const inner = panel.querySelector(".panel-inner");
              panel.style.height =
                (inner ? inner.scrollHeight : panel.scrollHeight) + "px";
            }
          });
        });

        // Resize observer to adjust height if inner content wraps on resize
        if ("ResizeObserver" in window) {
          const ro = new ResizeObserver((entries) => {
            entries.forEach((entry) => {
              const panel = entry.target.closest(".accordion-panel");
              if (
                panel &&
                panel.previousElementSibling &&
                panel.previousElementSibling.getAttribute("aria-expanded") ===
                  "true"
              ) {
                const inner = panel.querySelector(".panel-inner");
                panel.style.height =
                  (inner ? inner.scrollHeight : panel.scrollHeight) + "px";
              }
            });
          });
          document
            .querySelectorAll(".panel-inner")
            .forEach((el) => ro.observe(el));
        }
      })();
    </script>
  </body>
</html>
